sap.ui.controller("com.mhp.integration.hr.mhpintegrationcockpit.controller.ExtendedAnalytical", {
	
	onAfterRendering: function() {
		var oView = this.getView();
		if(oView && !oView.hasStyleClass("mhpintegrationcockpit")) {
			oView.addStyleClass("mhpintegrationcockpit");
		}
		
		//try { oView.byId("chart-btnPersonalisation").setVisible(false); } catch(e) { /* NOOP */ }
		//try { oView.byId("chart-btnChartType").setVisible(false); } catch(e) { /* NOOP */ }
		try { oView.byId("table").setShowTablePersonalisation(false); } catch(e) { /* NOOP */ }
	},

	onListNavigationExtension: function (oEvent) {
		// var oNavigationController = this.extensionAPI.getNavigationController();
		var oBindingContext = oEvent.getSource().getBindingContext();
		
		sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then( function (oService) {
			var sHref = oService.hrefForExternal({
				target : {
					semanticObject : "HR_INT_COCKPIT",
					action : "maintain"
				}
			}) || "";
			
			var oObject = oBindingContext.getObject();
			var oModel = this.getOwnerComponent().getModel("integrationService");
			var sKey = oModel.createKey("/IntegrationRunSet", {
				IntRun: oObject.INT_RUN,
				CloudId: oObject.CLOUD_ID || '',
				SapId: oObject.SAP_ID || '00000000'
			});
			
			oService.toExternal({
				target: {
					shellHash: sHref + "&/" + sKey
				}
			});
		}.bind(this));
		
		return true;
	}
});
