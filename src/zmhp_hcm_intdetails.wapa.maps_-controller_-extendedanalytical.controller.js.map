{"version":3,"sources":["controller/ExtendedAnalytical.controller.js"],"names":["sap","ui","controller","onAfterRendering","oTransactionController","this","extensionAPI","getTransactionController","oMessageManager","getCore","getMessageManager","oMessage+
Button","getView","byId","oVersion","getVersionInfo","bMessageFixEnabled","version","startsWith","attachAfterSave","oEvent","setVisible","removeAllMessages","saveEntityPromise","then","refresh","bind","oResponse","sTarget","getBindingContext","getPath","+
JSON","parse","response","responseText","error","innererror","errordetails","forEach","oObject","addMessages","core","message","Message","type","MessageType","Error","code","target","jQuery","delayedCall","firePress"],"mappings":"AAAAA,IAAIC,GAAGC,WAAW,++
EAQjBC,iBAAkB,WACjB,GAAIC,GAAyBC,KAAKC,aAAaC,2BAC3CC,EAAkBR,IAAIC,GAAGQ,UAAUC,oBACnCC,EAAiBN,KAAKO,UAAUC,KAAK,gBACrCC,EAAWd,IAAIC,GAAGc,eAAe,SAEjCC,GAAqB,CACtBL,IAAkBG,GAAYA,EAASG,SAAWH,EAASG,QAAQC,WAAW,SAChFF,GAAqB,GAGtBZ,EAAuBe,gBAAgB,SAASC,GAC5CJ,IACF+
L,EAAeU,YAAW,GAC1Bb,EAAgBc,qBAGjBF,EAAOG,kBAAkBC,KAAK,WAC7BnB,KAAKC,aAAamB,WACjBC,KAAKrB,MAAO,SAASsB,GACtB,GAAGX,EAAoB,CACtB,GAAIY,GAAUvB,KAAKO,UAAUiB,oBAAoBC,SACjD,KAAIF,EAAQV,WAAW,mBAAoB,CAC5Ba,KAAKC,MAAML,EAAUM,SAASC,cAChBC,MAAMC,WAAWC,aAE/BC,QAAQ,SAA+
SC,GAC9B/B,EAAgBgC,YAAY,GAAIxC,KAAIC,GAAGwC,KAAKC,QAAQC,SACnDC,KAAM5C,IAAIC,GAAGwC,KAAKI,YAAYC,MAC9BJ,QAASH,EAAQG,QACjBK,KAAMR,EAAQQ,KACdC,OAAQpB,MAEPvB,MACHM,EAAeU,YAAW,GAC1B4B,OAAOjD,IAAIkD,YAAY,IAAK7C,KAAM,WACjCM,EAAewC,iBAIjBzB,KAAKrB,QAENqB,KAAKrB",+
"file":"../../controller/ExtendedAnalytical.controller.js","sourcesContent":["sap.ui.controller(\"com.mhp.integration.hr.mhpintegrationmaintain.controller.ExtendedAnalytical\", {\r\n\t\r\n\t/**\r\n\t * Implemented by Christoph Kuczera due to \r\n\t * 1. +
Auto refresh all dependant tables after successfull save operation\r\n\t * 2. Bug in UI5 1.61.13 which leads to supresse of error message in table edit mode.\r\n\t *\t\tWe had to add the errros and display the message popover button manually\r\n\t */ \r\+
n\tonAfterRendering: function() {\r\n\t\tvar oTransactionController = this.extensionAPI.getTransactionController();\r\n\t\tvar oMessageManager = sap.ui.getCore().getMessageManager();\r\n\t\tvar oMessageButton = this.getView().byId(\"showMessages\");\r\n\+
t\tvar oVersion = sap.ui.getVersionInfo(\"sap.m\");\r\n\t\t\r\n\t\tvar bMessageFixEnabled = false;\r\n\t\tif(oMessageButton && oVersion && oVersion.version && oVersion.version.startsWith(\"1.6\")) {\r\n\t\t\tbMessageFixEnabled = true;\r\n\t\t}\r\n\t\t\r\+
n\t\toTransactionController.attachAfterSave(function(oEvent) {\r\n\t\t\tif(bMessageFixEnabled) {\r\n\t\t\t\toMessageButton.setVisible(false);\r\n\t\t\t\toMessageManager.removeAllMessages();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toEvent.saveEntityPromise.then(func+
tion() {\r\n\t\t\t\tthis.extensionAPI.refresh();\r\n\t\t\t}.bind(this), function(oResponse) {\r\n\t\t\t\tif(bMessageFixEnabled) {\r\n\t\t\t\t\tvar sTarget = this.getView().getBindingContext().getPath();\r\n\t\t\t\t\tif(!sTarget.startsWith(\"/FieldChangeS+
et\")) {\r\n\t\t\t\t\t\tvar oErrors = JSON.parse(oResponse.response.responseText);\r\n\t\t\t\t\t\tvar oErrorDetails = oErrors.error.innererror.errordetails;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toErrorDetails.forEach(function(oObject) {\r\n\t\t\t\t\t\t\toMessag+
eManager.addMessages(new sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\t\tmessage: oObject.message,\r\n\t\t\t\t\t\t\t\tcode: oObject.code,\r\n\t\t\t\t\t\t\t\ttarget: sTarget\r\n\t\t\t\t\t\t\t}));\r\+
n\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\toMessageButton.setVisible(true);\r\n\t\t\t\t\t\tjQuery.sap.delayedCall(500, this, function() {\r\n\t\t\t\t\t\t\toMessageButton.firePress();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\t+
\t\t\r\n\t\t}.bind(this));\r\n\t}\r\n});"]}
